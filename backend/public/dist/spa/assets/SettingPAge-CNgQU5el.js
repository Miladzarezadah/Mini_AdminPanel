import{j as O,g as W,c as P,h as x,n as U,r as u,a as M,q as w,u as r,v as y,x as F,z as a,G as b,y as o,aw as _,H as D,Q as v,B as q,A as G,ax as H,N as j}from"./index-CmeDau2E.js";import{u as L,b as R,Q as J,a as h}from"./QPage-fNGnxIIR.js";import{u as K}from"./use-quasar-CjJ26LuW.js";import{api as z}from"./axios-BYCvkEcn.js";const C=O({name:"QBanner",props:{...L,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(m,{slots:l}){const{proxy:{$q:f}}=W(),c=R(m,f),n=P(()=>"q-banner row items-center"+(m.dense===!0?" q-banner--dense":"")+(c.value===!0?" q-banner--dark q-dark":"")+(m.rounded===!0?" rounded-borders":"")),g=P(()=>`q-banner__actions row items-center justify-end col-${m.inlineActions===!0?"auto":"all"}`);return()=>{const k=[x("div",{class:"q-banner__avatar col-auto row items-center self-start"},U(l.avatar)),x("div",{class:"q-banner__content col text-body2"},U(l.default))],p=U(l.action);return p!==void 0&&k.push(x("div",{class:g.value},p)),x("div",{class:n.value+(m.inlineActions===!1&&p!==void 0?" q-banner--top-padding":""),role:"alert"},k)}}}),X=(m,l)=>{const f=m.__vccOpts||m;for(const[c,n]of l)f[c]=n;return f},Y={class:"shadow-10 q-pa-md bodySettings"},Z={key:0},ee={class:"shadow-2",style:{"border-radius":"10px"}},se={class:"row justify-between items-center"},ae={class:"row items-center q-gutter-x-xs"},te={class:"q-mt-md"},oe={class:"row justify-between items-center"},le={class:"row items-center q-gutter-x-xs"},ne={class:"row"},re={key:1},ie={class:"row items-center"},de={class:"column justify-center"},ue={class:"row items-center q-gutter-x-xs"},me={key:0},ve={class:"row justify-around q-my-sm"},ce={class:"row justify-around"},pe={class:"row justify-center"},we={class:"row justify-end"},ye={__name:"SettingPAge",setup(m){const l=K(),f=F(),c=u(!1),n=u(!1),g=u(!1),k=u(!1),p=u("password"),V=u("password"),t=u({name:"",username:"",email:"",cpassword:"",newpassword:""}),$=u([]),d=u({}),B=async()=>{try{const i=await z.get("/users");$.value=i.data;const e=localStorage.getItem("id");d.value=$.value.find(s=>s.id==e),t.value={...d.value}}catch(i){console.log(i)}};function I(){localStorage.removeItem("id"),l.dark.set(!1),f.push("/login")}function Q(){l.dark.set(!0),localStorage.setItem(`theme_${d.value.id}`,"true")}function S(){l.dark.set(!1),localStorage.setItem(`theme_${d.value.id}`,"false")}async function N(){try{const i=u({});t.value.cpassword&&t.value.newpassword?t.value.cpassword==d.value.password?i.value={id:d.value.id,name:t.value.name,username:t.value.username,password:t.value.newpassword,email:t.value.email}:j.create({type:"negative",message:"Please enter the correct password"}):i.value={id:d.value.id,name:t.value.name,usernname:t.value.username,password:d.value.password,email:t.value.email},await z.post("/changeUserData",i.value),n.value=!1,j.create({type:"positive",message:"Information changed successfully"}),c.value=!1,Object.assign(d.value,i.value)}catch(i){console.log(i)}}function T(){t.value={...d.value},n.value=!1}M(()=>{B()});const A=P(()=>n.value?"":l.dark.mode?"hoverDark":"hoverWhite");return(i,e)=>(r(),w(J,{class:"flex flex-center",padding:""},{default:y(()=>[a("div",Y,[c.value?(r(),b("div",re,[a("div",ie,[o(q,{color:"primary",round:"",dense:"",flat:"",icon:"chevron_left",onClick:e[1]||(e[1]=s=>{c.value=!1,n.value=!1})}),e[17]||(e[17]=a("span",{style:{"font-size":"20px"}},"Change User Data",-1))]),o(C,{class:_(["q-py-md shadow-1 q-mt-lg cursor-pointer",A.value]),style:{"border-radius":"5px"},onClick:e[12]||(e[12]=s=>n.value=!0)},{default:y(()=>[a("div",de,[a("div",{class:_(["row justify-between items-center",n.value?"q-mb-md":""])},[a("div",ue,[o(v,{name:"edit",size:"sm",color:"primary"}),e[18]||(e[18]=a("span",null,"Change Data",-1))]),a("div",null,[n.value?(r(),w(q,{key:0,color:"primary",flat:"",dense:"",round:"",icon:"keyboard_arrow_up",onClick:H(T,["stop"])})):(r(),w(q,{key:1,color:"primary",flat:"",dense:"",round:"",icon:"keyboard_arrow_down",onClick:e[2]||(e[2]=s=>n.value=!0)}))])],2),n.value?(r(),b("div",me,[a("div",ve,[o(h,{modelValue:t.value.name,"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.name=s),type:"text",label:"Name","stack-label":"",standout:"bg-primary text-white",style:{width:"230px"}},null,8,["modelValue"]),o(h,{modelValue:t.value.username,"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.username=s),type:"text",label:"Username","stack-label":"",standout:"bg-primary text-white",style:{width:"230px"}},null,8,["modelValue"])]),a("div",ce,[o(h,{modelValue:t.value.cpassword,"onUpdate:modelValue":e[7]||(e[7]=s=>t.value.cpassword=s),type:p.value,label:"Password","stack-label":"",standout:"bg-primary text-white",style:{width:"230px"},rules:[s=>s.length>=5||"Please use minimum 5 characters"]},{append:y(()=>[g.value==!1?(r(),w(v,{key:0,name:"visibility",class:"cursor-pointer",onClick:e[5]||(e[5]=s=>(p.value="text",g.value=!0))})):(r(),w(v,{key:1,name:"visibility_off",class:"cursor-pointer",onClick:e[6]||(e[6]=s=>(p.value="password",g.value=!1))}))]),_:1},8,["modelValue","type","rules"]),o(h,{modelValue:t.value.newpassword,"onUpdate:modelValue":e[10]||(e[10]=s=>t.value.newpassword=s),type:V.value,label:"NewPassword","stack-label":"",standout:"bg-primary text-white",style:{width:"230px"},rules:[s=>s.length>=5||"Please use minimum 5 characters"]},{append:y(()=>[k.value==!1?(r(),w(v,{key:0,name:"visibility",class:"cursor-pointer",onClick:e[8]||(e[8]=s=>(V.value="text",k.value=!0))})):(r(),w(v,{key:1,name:"visibility_off",class:"cursor-pointer",onClick:e[9]||(e[9]=s=>(V.value="password",k.value=!1))}))]),_:1},8,["modelValue","type","rules"])]),a("div",pe,[o(h,{modelValue:t.value.email,"onUpdate:modelValue":e[11]||(e[11]=s=>t.value.email=s),type:"text",label:"Email","stack-label":"",standout:"bg-primary text-white",style:{width:"230px"},rules:[(s,E)=>E.email(s)||"Please enter a valid email address"]},null,8,["modelValue","rules"])]),a("div",we,[o(q,{color:"primary",icon:"save",label:"save",onClick:N})])])):G("",!0)])]),_:1},8,["class"])])):(r(),b("div",Z,[a("div",ee,[o(C,{class:_(["q-py-md UserDetails cursor-pointer",D(l).dark.mode?"hoverDark":"hoverWhite"]),onClick:e[0]||(e[0]=s=>c.value=!0)},{default:y(()=>[a("div",se,[a("div",null,[a("div",ae,[o(v,{name:"person",size:"md"}),e[13]||(e[13]=a("span",{style:{"font-size":"20px"}},"User Info",-1))]),e[14]||(e[14]=a("caption",{class:"text-grey-5 q-mt-sm",style:{"font-size":"13px"}}," Email,Username,Password ",-1))]),o(v,{name:"chevron_right",size:"sm"})])]),_:1},8,["class"])]),a("div",te,[o(C,{class:"q-py-md shadow-1"},{default:y(()=>[a("div",oe,[a("div",le,[o(v,{name:"palette",size:"sm"}),e[15]||(e[15]=a("span",null,"Change Theme:",-1))]),a("div",ne,[D(l).dark.mode==!1?(r(),b("div",{key:0,class:"darkTheme",onClick:Q})):(r(),b("div",{key:1,class:"whiteTheme",onClick:S}))])])]),_:1}),o(C,{class:_(["q-py-md shadow-1 cursor-pointer",D(l).dark.mode?"hoverDark":"hoverWhite"])},{default:y(()=>[a("div",{class:"row items-center q-gutter-x-sm",onClick:I},[o(v,{name:"logout",color:"negative",size:"sm"}),e[16]||(e[16]=a("span",{class:"text-negative",style:{"font-size":"17px"}},"LogOut",-1))])]),_:1},8,["class"])])]))])]),_:1}))}},he=X(ye,[["__scopeId","data-v-de640e77"]]);export{he as default};
