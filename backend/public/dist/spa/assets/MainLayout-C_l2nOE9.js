import{j as q,c as d,h as y,n as $,g as S,i as I,e as k,C as j,r as V,k as p,o as D,D as A,q as f,u,v,x as E,E as P,F as U,y as _,z as C,G as z,A as w,H as i,B as Q,I as H}from"./index-Dg-BHVTn.js";import{Q as G,a as K,b as M}from"./QLayout-hb1FixhA.js";import{u as J}from"./use-quasar-DNTfzSVM.js";import"./scroll-CnkGX98e.js";const T=q({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:n}){const s=d(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>y("div",{class:s.value},$(n.default))}}),W=q({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:n}){const s=d(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>y("div",{class:s.value,role:"toolbar"},$(n.default))}}),X=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:s}){const{proxy:{$q:c}}=S(),a=I(j,k);if(a===k)return console.error("QHeader needs to be child of QLayout"),k;const m=V(parseInt(t.heightHint,10)),o=V(!0),h=d(()=>t.reveal===!0||a.view.value.indexOf("H")!==-1||c.platform.is.ios&&a.isContainer.value===!0),b=d(()=>{if(t.modelValue!==!0)return 0;if(h.value===!0)return o.value===!0?m.value:0;const e=m.value-a.scroll.value.position;return e>0?e:0}),x=d(()=>t.modelValue!==!0||h.value===!0&&o.value!==!0),F=d(()=>t.modelValue===!0&&x.value===!0&&t.reveal===!0),L=d(()=>"q-header q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(x.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),N=d(()=>{const e=a.rows.value.top,r={};return e[0]==="l"&&a.left.space===!0&&(r[c.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),e[2]==="r"&&a.right.space===!0&&(r[c.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),r});function l(e,r){a.update("header",e,r)}function g(e,r){e.value!==r&&(e.value=r)}function O({height:e}){g(m,e),l("size",e)}function R(e){F.value===!0&&g(o,!0),s("focusin",e)}p(()=>t.modelValue,e=>{l("space",e),g(o,!0),a.animate()}),p(b,e=>{l("offset",e)}),p(()=>t.reveal,e=>{e===!1&&g(o,t.modelValue)}),p(o,e=>{a.animate(),s("reveal",e)}),p(a.scroll,e=>{t.reveal===!0&&g(o,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const B={};return a.instances.header=B,t.modelValue===!0&&l("size",m.value),l("space",t.modelValue),l("offset",b.value),D(()=>{a.instances.header===B&&(a.instances.header=void 0,l("size",0),l("offset",0),l("space",!1))}),()=>{const e=A(n.default,[]);return t.elevated===!0&&e.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(y(G,{debounce:0,onResize:O})),y("header",{class:L.value,style:N.value,onFocusin:R},e)}}}),Y={key:0},Z={key:1,class:"Aligning"},se={__name:"MainLayout",setup(t){const n=E(),s=P(),c=J();function a(){localStorage.removeItem("id"),c.dark.set(!1),n.push("/login")}return(m,o)=>{const h=U("router-view");return u(),f(K,{view:"lHh Lpr lFf"},{default:v(()=>[_(X,{elevated:""},{default:v(()=>[_(W,{class:"row justify-between"},{default:v(()=>[C("div",null,[i(s).path=="/"?(u(),f(Q,{key:0,flat:"",dense:"",icon:"settings",label:"setting",onClick:o[0]||(o[0]=b=>i(n).push("/settings"))})):(u(),f(Q,{key:1,flat:"",dense:"",icon:"home",label:"Dashboard",onClick:o[1]||(o[1]=b=>i(n).push("/"))}))]),i(c).screen.xs?w("",!0):(u(),z("div",Y,[i(s).path=="/"?(u(),f(T,{key:0,align:"center"},{default:v(()=>o[2]||(o[2]=[H(" Dashboard ")])),_:1})):(u(),f(T,{key:1,align:"center"},{default:v(()=>o[3]||(o[3]=[H(" Settings ")])),_:1}))])),C("div",null,[i(s).path!=="/settings"?(u(),f(Q,{key:0,flat:"",dense:"",icon:"logout",label:"logout",onClick:a})):w("",!0),!i(c).screen.xs&&i(s).path=="/settings"?(u(),z("div",Z)):w("",!0)])]),_:1})]),_:1}),_(M,null,{default:v(()=>[_(h)]),_:1})]),_:1})}}};export{se as default};
